// http://tympanus.net/Tutorials/ItemSlider/
(function(c,d,m){c.CatSlider=function(a,b){this.$el=c(b);this._init(a)};c.CatSlider.prototype={_init:function(a){this.$categories=this.$el.children("ul");this.$navcategories=this.$el.find(".nav > a");this.animEndEventName={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")];this.support=Modernizr.csstransforms&&Modernizr.cssanimations;this.isAnimating=!1;this.current=0;a=this.$categories.eq(0);this.support?
a.addClass("mi-current"):(this.$categories.hide(),a.show());this.$navcategories.eq(0).addClass("mi-selected");this._initEvents()},_initEvents:function(){var a=this;this.$navcategories.on("click.catslider",function(){a.showCategory(c(this).index());return!1});c(d).on("resize",function(){a.$categories.removeClass().eq(0).addClass("mi-current");a.$navcategories.eq(a.current).removeClass("mi-selected").end().eq(0).addClass("mi-selected");a.current=0})},showCategory:function(a){if(a===this.current||this.isAnimating)return!1;
this.isAnimating=!0;this.$navcategories.eq(this.current).removeClass("mi-selected").end().eq(a).addClass("mi-selected");var b=a>this.current?"right":"left",k="right"===b?"mi-moveToLeft":"mi-moveToRight",d="right"===b?"mi-moveFromRight":"mi-moveFromLeft",h=this.$categories.eq(this.current),f=this.$categories.eq(a),g=f.children(),l="right"===b?g.length-1:0,e=this;this.support?(h.removeClass().addClass(k),setTimeout(function(){f.removeClass().addClass(d);g.eq(l).on(e.animEndEventName,function(){c(this).off(e.animEndEventName);
f.addClass("mi-current");e.current=a;var b=c(this);e.forceRedraw(b.get(0));e.isAnimating=!1})},90*g.length)):(h.hide(),f.show(),this.current=a,this.isAnimating=!1)},forceRedraw:function(a){if(a){var b=document.createTextNode(" "),c=a.style.position;a.appendChild(b);a.style.position="relative";setTimeout(function(){a.style.position=c;b.parentNode.removeChild(b)},25)}}};c.fn.catslider=function(a){var b=c.data(this,"catslider");if("string"===typeof a){var d=Array.prototype.slice.call(arguments,1);this.each(function(){b[a].apply(b,
d)})}else this.each(function(){b?b._init():b=c.data(this,"catslider",new c.CatSlider(a,this))});return b}})(jQuery,window);
